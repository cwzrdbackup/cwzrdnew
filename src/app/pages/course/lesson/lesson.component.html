<nb-layout class="layout-container">
  <nb-layout-header class="flex flexCenter platformHeader">    
	<app-header></app-header>
  </nb-layout-header>
  <nb-layout-column class="p-0" [nbSpinner]="loading">

    <!-- <div class="f-w pb-3 pt-4 chapter">
      <button nbButton size="small" class="mx-2" *ngFor="let item of [1,2,3,4,5,6,7,8,9]"
        [ngClass]="{'transparent': item > 1}"
        
        >Chapter
        {{item}}</button>
    </div> -->

    <div class="flex col-xl-8 py-0 px-0 px-md-3" style="margin: 0 auto;">
		
  	  <!--desktop header-->
  	  <div class="flex-vertical showDesktop pt-4 pb-0">
          <div class="py-1 pt-md-3 pb-md-2 px-md-0 col-12 col-md-9 text-center text-md-left">
            <div class="flex-vertical"><i class="fal fa-long-arrow-left" routerLink="/course/chapter/{{chapter}}"></i><h5 class="wzrd-Title">{{data.title}}</h5></div>
          </div>	  
        	<div class="pt-0 pb-0 px-md-0 col-12 col-md-3 text-right flex-vertical nextLesson">
    		  <div class="wzrdLikeHeader col-6 flex-vertical" *ngIf="!isCompleted">
  			    <button nbButton outline status="success" size="xsmall" class="markCompleteBtn" (click)="completeLesson()">Mark complete</button>
          </div>
          <div class="wzrdLikeHeader col-6 flex-vertical" *ngIf="isCompleted">
              <button nbButton outline status="success" size="xsmall" class="markCompleteBtn">Completed</button>
          </div>
            <button nbButton status="primary" size="xsmall" (click)="goNext()" *ngIf="data.nextLessonId">NEXT LESSON</button>
        	</div>
  	  </div>

      <nb-card class="f-w">
        <nb-card-body class="p-0 p-md-3 videoContainerWidth">
          <div style="padding:56.25% 0 0 0;position:relative;">
            <iframe
              [src]="videoUrl"
			                style="position:absolute;top:0;left:0;width:100%;height:100%;" frameborder="0"
			                allow="autoplay; fullscreen" allowfullscreen></iframe><script src="https://player.vimeo.com/api/player.js"></script>
          </div>
		  
	  	  <!--mobile header-->	
		  <!--mobile header-->
	      <div class="py-1 py-md-3 mb-0 col-12 col-md-9 text-left text-md-left hideDesktop">
	        <div class="flex-vertical"><i class="fal fa-long-arrow-left" routerLink="/course"></i><h5 class="wzrd-Title wzrd-Title-M mt-2 mb-2">{{data.title}}</h5></div>
	      </div>
		  
	        <div class="pr-3 pl-3 pt-1 pb-3 col-12 col-md-3 text-right hideDesktop flexMobileHeader">
	    		  <div class="wzrdLikeHeader col-6 flex-vertical p-0">
	  				  <button nbButton outline status="success" size="xsmall" (click)="completeLesson()">Mark complete</button>			
	    		  </div>
		  
	          <button nbButton status="primary" size="xsmall" class="ml-3" (click)="goNext()">NEXT LESSON</button>
	        </div>
        </nb-card-body>
      </nb-card>
      <div id="notesSection" [nbSpinner]="notesLoading" style="width:100%;">

      
      <nb-card class="f-w" status="primary">
        <nb-card-header class="d-flex flex-vertical justify-content-between p-3">
          <span class="notes-title">Notes</span>
          <!-- <button nbButton class="btn btn-success btn-xs" style="float:right;" (click)="download(note.value)" (click)="dynamicDownloadTxt()">Download</button> -->
          <i class="fa fa-floppy-o link" aria-hidden="true" (click)="notesSaveForm.ngSubmit.emit()"></i>

        </nb-card-header>
        <nb-card-body>

            <form (ngSubmit)="addNote()" [formGroup]="noteForm" #notesSaveForm="ngForm">
                <textarea  formControlName="note" nbInput fullWidth placeholder="Enter notes here" rows="6"></textarea>
            </form>

          
        </nb-card-body>
      </nb-card>
      
      <!-- <div *ngFor="let note of notes" style="width:100%;">
          <nb-card class="f-w" status="secondary">
            <nb-card-body>
              // <p>{{note.id}}</p>
              <p>
                  <a target="_blank" href="{{baseURL}}generateFile?userId=100001&noteId={{note.id}}&lessonId={{lesson}}">
                    {{note.note}}
                  </a>
                  
              </p>
              
            </nb-card-body>
          </nb-card>
          
        </div> -->
      </div>
    </div>
    
  </nb-layout-column>

   <nb-layout-footer class="footer-main">
     &copy; 2021 Powered by <a target="_blank" class="wzrdgroup-link" href="http://wzrdgroup.com/">WZRD Group</a>
   </nb-layout-footer>
 </nb-layout>